<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Water Starter | Borehole Drilling</title>
    <link rel="stylesheet" href="newstyles.css"> <!-- Link to external CSS -->
</head>
<body>
    <header>
        <h1>The Water Starter</h1>
        <p class="price">R29900</p> <!-- Price displayed here -->
    </header>

    <div class="container">
        <!-- Section 1 -->
        <div class="section">
            <img src="images/borehole_small_rig.jpeg" alt="Borehole Installation" class="borehole-image">
            <h2>Who is This Solution For?</h2>
            <p>Start securing your water future today. Install your borehole now to access reliable groundwater, and take the first step toward full independence. When you‚Äôre ready, easily expand to a complete system. Act now‚Äîprotect your water supply and prepare for tomorrow!</p>
        </div>

        <!-- Section 2 -->
        <section>
            <div>
                <h2>What Do I Need to Know?</h2>
                <div>
                    <p>Borehole water can be used for gardening and home use due to its natural, treatment-free quality. Discover our process for accessing this valuable water source.</p>

                    <div class="process-steps">
                        <div class="process-step">
                            <h3><span class="icon">üìû</span> Step 1: Initial Consultation</h3>
                            <p>We start with an initial consultation to determine your requirements and assess the location for borehole suitability.</p>
                        </div>
                        <div class="process-step">
                            <h3><span class="icon">üìã</span> Step 2: Site Survey and Preparation</h3>
                            <p>Our team conducts a detailed survey and prepares the site for drilling, ensuring minimal disruption to your property.</p>
                        </div>
                        <div class="process-step">
                            <h3><span class="icon">‚õèÔ∏è</span> Step 3: Drilling</h3>
                            <p>We use specialised drilling equipment to reach underground water sources efficiently and safely.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3 -->
        <section>
            <div class="whatsapp-container">
                <h2>How Do I Start?</h2>
                <!-- WhatsApp Button -->
                <a href="https://wa.me/27836022696" target="_blank" id="whatsapp-button">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" width="20"/>
                    Get in touch with us on WhatsApp!
                </a>
            </div>

            <div class="container">    
                <section id="contact">
                    <h2>OR</h2>
                    <h2>Email us using the form below and we will get back to you</h2>

                    <form class="contact-form" action="mailto:anthony.gischen@gmail.com" method="POST" enctype="text/plain">
                        <label for="name">Name:</label>
                        <input type="text" id="name" name="name" placeholder="Your Name" required>
                        
                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email" placeholder="Your Email" required>
                        
                        <label for="message">Message:</label>
                        <textarea id="message" name="message" placeholder="Your Message" rows="5" required></textarea>
                        
                        <button type="submit">Send Message</button>
                    </form>
                </section>
            </div>


<!-- Section 4 -->
		<section id="location">
    		<h2>OR</h2>
    		<h2>If you want to start your journey towards independence today, let us know where you are and we will come to you</h2>

    		<div class="autocomplete-box">
        <!-- First and Last Name Inputs on the same line -->
        	<div class="name-container">
            	<input type="text" id="first-name" class="controls" placeholder="First Name" required>
            	<input type="text" id="last-name" class="controls" placeholder="Last Name" required>
        	</div>

        <!-- Location Input and Send Location Button on the same line -->
        	<div class="location-container">
            	<input id="pac-input" class="controls location-input" type="text" placeholder="Enter a location" aria-label="Enter a location" required />
            	<a href="https://wa.me/27836022696" target="_blank" id="sendWhatsApp" class="whatsapp-button">
                	<img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" width="20">
                	Send location on WhatsApp!
            	</a>
        	</div>
    		</div>
    		<div id="map"></div>
		</section>
		
    <footer>
        <p>&copy; 2024 Boreholeguyz | All Rights Reserved</p>
    </footer>

            <!-- Load the Google Maps JavaScript API -->
            <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBU5_N4w32hFFObC7RcdJB2_KJMc5eB4DY&libraries=places&callback=initMap" async defer></script>
            <script>
                let map;
                let autocomplete;
                let marker;
                let geocoder;

                function initMap() {
                    map = new google.maps.Map(document.getElementById("map"), {
                        center: { lat: -30.559482, lng: 22.937506 },
                        zoom: 6,
                    });

                    geocoder = new google.maps.Geocoder();

                    const input = document.getElementById("pac-input");
                    autocomplete = new google.maps.places.Autocomplete(input);
                    autocomplete.bindTo("bounds", map);

                    autocomplete.addListener("place_changed", () => {
                        const place = autocomplete.getPlace();

                        if (!place.geometry) {
                            console.log("No details available for input: '" + place.name + "'");
                            return;
                        }

                        if (place.geometry.viewport) {
                            map.fitBounds(place.geometry.viewport);
                        } else {
                            map.setCenter(place.geometry.location);
                            map.setZoom(17);
                        }

                        if (marker) {
                            marker.setMap(null);
                        }

                        marker = new google.maps.Marker({
                            position: place.geometry.location,
                            map: map,
                        });
                    });
                }

                document.getElementById('sendWhatsApp').addEventListener('click', function(event) {
                    event.preventDefault();
                    const address = document.getElementById('pac-input').value;
                    const firstName = document.getElementById('first-name').value;
                    const lastName = document.getElementById('last-name').value;

                    if (address && firstName && lastName) {
                        geocoder.geocode({ 'address': address }, function(results, status) {
                            if (status === 'OK') {
                                const location = results[0].geometry.location;
                                const latitude = location.lat();
                                const longitude = location.lng();
                                
                                // Construct WhatsApp message with name and location
                                const whatsappLink = `https://wa.me/27836022696?text=Hello, my name is ${firstName} ${lastName}. Here is the location: https://www.google.com/maps?q=${latitude},${longitude}`;
                                
                                // Open WhatsApp with pre-filled message
                                window.open(whatsappLink, '_blank');

                                // Clear input fields
                                document.getElementById('pac-input').value = '';
                                document.getElementById('first-name').value = '';
                                document.getElementById('last-name').value = '';
                            } else {
                                alert('Geocode was not successful for the following reason: ' + status);
                            }
                        });
                    } else {
                        alert('Please enter your first name, last name, and address.');
                    }
                });

                function clearForm() {
                    setTimeout(function() {
                        document.querySelector('.contact-form').reset();
                    }, 100); 
                }
            </script>


        </body>
    </html>
